---
description: 
globs: 
alwaysApply: true
---
---
description: Guidelines for using Makefile commands in WAVS projects
globs: Makefile,*.mk
---
# Makefile Commands Guide

Essential commands for developing and deploying WAVS components.

## Core Commands

1. Building and Setup:
```bash
# Build entire project (Forge + WASI components)
make build

# Build only WASI components
make wasi-build
# Optional: Specify directory
WASI_BUILD_DIR=components/my-component make wasi-build

# Install initial dependencies
make setup
```

## IMPORTANT: Component Changes and Testing
When modifying a component's code (like lib.rs), you MUST rebuild the component before testing:

1. Always rebuild after changes:
```bash
# After any change to component code:
make wasi-build  # This compiles your changes into WebAssembly

# Then run your tests:
COIN_MARKET_CAP_ID=your_input make wasi-exec
```

2. Common pitfalls:
- Running wasi-exec without rebuilding will test the old version
- Changes to lib.rs won't take effect until after wasi-build
- Always rebuild when switching between different component versions

// ... existing code ...